<div
	[class.stepOne]="stepOne"
	[class.stepTwo]="stepTwo"
	[class.overflow-hidden]="stepTwo"
	[class.stepThree]="stepThree"
	[class.intructions]="instructions"
	class="h-100"
>
	<div *ngIf="instructions" id="instructions">
		<div
			class="col-11 col-lg-8 col-xl-6 border p-2 mt-3 describe"
			(click)="minimize()"
		>
			<div class="text-center bg-white p-2 rounded-custom">
				<h5 class="pt-2 m-0">
					Instrucciones<span [class.d-none-desktop]="btnMinimize.state">:</span>
				</h5>
				<p [class.d-none-desktop]="btnMinimize.state">
					A partir de la emoción que acabas de seleccionar, te proponemos dos
					opciones de combinación de cartas. Una vez elijas la opción deseada,
					te daremos una recomendación para tener una conversación
					inteligente. <b>Veamos cómo funciona:</b>
				</p>
				<button class="d-lg-none btn-arrow p-0">
					<span class="material-icons-outlined">
						{{ btnMinimize.text }}
					</span>
				</button>
			</div>
		</div>
		<div *ngIf="stepOne" class="col-2 border p-2 mt-3 describe-cards">
			<div class="text-center bg-white p-2 rounded-custom">
				<p class="m-0">
					Puedes abrir cualquier carta haciendo clic sobre cada una.
				</p>
			</div>
		</div>
		<div id="btn-instructions">
			<button
				*ngIf="stepOne"
				class="btn btn-outline-secondary px-5 px-lg-3"
				(click)="skip()"
			>
				SALTAR
			</button>
			<button
				class="btn btn-primary ms-2 ms-sm-5 px-5 px-lg-5"
				(click)="nextStep(step)"
			>
				ENTENDIDO
			</button>
		</div>
		<div *ngIf="stepTwo" class="stepTwo-white shadow"></div>
		<div
			*ngIf="stepTwo"
			class="col-2 border p-2 mt-3 describe-cards-two shadow"
		>
			<div class="text-center bg-white p-2 rounded-custom shadow-lg">
				<p class="m-0">
					Aquí te mostraremos las opciones de combinación de cartas.
					Si consideras que la primera no se ajusta a lo que necesitas, podrás
					conocer la segunda opción haciendo clic en la pestaña correspondiente.
				</p>
			</div>
		</div>
		<div *ngIf="stepThree" class="row d-none d-lg-block stepThree-buttoms">
			<div class="col-2 border p-2 mt-3 describe-buttom">
				<div class="text-center bg-white p-2 rounded-custom">
					<p>Puedes cambiar la emoción, presionando este botón.</p>
				</div>
			</div>
			<div class="col-2 border p-2 ms-5 mt-3 describe-buttom">
				<div class="text-center bg-white p-2 rounded-custom">
					<p>
						Para seleccionar la combinación (ya sea la opción 1 o 2), haz
						clic en este botón.
					</p>
				</div>
			</div>
		</div>
		<div *ngIf="stepOne" class="col-5 d-md-none border p-1 mt-3 info-movil">
			<div class="text-center bg-white p-1 d-flex justify-content-center">
				Desliza
				<span class="material-icons-outlined"> arrow_right_alt </span>
			</div>
		</div>
		<div
			*ngIf="stepThree"
			class="d-lg-none popover fade show bs-popover-top"
			role="tooltip"
			id="popover891698"
			data-popper-placement="top"
		>
			<div
				class="popover-arrow"
				style="
					position: absolute;
					left: 0px;
					transform: translate3d(123px, 0px, 0px);
				"
			></div>
			<div class="popover-body">
				Puedes cambiar la emoción, presionando este botón.
			</div>
		</div>
		<div
			*ngIf="stepThree"
			class="d-lg-none popover popover-two fade show bs-popover-bottom"
			role="tooltip"
			id="popover718228"
			data-popper-placement="bottom"
		>
			<div
				class="popover-arrow"
				style="
					position: absolute;
					left: 0px;
					transform: translate3d(123px, 0px, 0px);
				"
			></div>
			<div class="popover-body">
				Para seleccionar la combinación (ya sea la opción 1 o 2), haz clic en
				este botón.
			</div>
		</div>
	</div>

	<div class="container pt-4 pt-lg-5 h-100" id="content-combination">
		<div class="row mx-0 justify-content-center">
			<p class="text-center text-initial">
				A continuación, te proponemos dos combinaciones de <b>pregunta,</b>
				<br class="d-none d-lg-block" />
				<b>distinción</b> y <b>recurso</b> a partir de la emoción que elegiste.
			</p>
			<p class="text-center text-initial">Selecciona la opción que deseas:</p>
			<hr class="col-3 col-lg-1 pt-1 text-initial" />
			<ul
				class="
					nav nav-tabs
					justify-content-center justify-content-lg-end
					border-0
					px-0
					mb-lg-4
				"
				id="myTab"
				role="tablist"
			>
				<li class="nav-item" role="presentation">
					<button
						class="nav-link active"
						data-bs-toggle="tab"
						data-bs-target="#home"
						type="button"
						role="tab"
						aria-controls="home"
						aria-selected="true"
						(click)="changeOpt(1)"
						[disabled]="!stepTwo && instructions"
					>
						OPCIÓN 1
					</button>
				</li>
				<li class="nav-item px-0" role="presentation">
					<button
						class="nav-link px-lg-0 ms-4"
						data-bs-toggle="tab"
						data-bs-target="#home"
						type="button"
						role="tab"
						aria-controls="home"
						aria-selected="false"
						(click)="changeOpt(2)"
						[disabled]="!stepTwo && instructions"
					>
						OPCIÓN 2
					</button>
				</li>
			</ul>
			<div
				class="
					tab-content
					mt-3
					h-combinations
					rounded
					pt-5
					pb-4
					px-lg-5
					border-custom
					content-cards
				"
				id="myTabContent"
			>
				<div id="rhombus">
					<div class="content">
						<div class="text">2</div>
					</div>
				</div>
				<div
					class="tab-pane fade show active h-100"
					id="home"
					role="tabpanel"
					aria-labelledby="home-tab"
				>
					<div
						class="
							row
							h-100
							justify-content-xl-around
							align-items-center
							overflow
							flex-direction-column
						"
					>
						<div
							class="
								col-auto
								px-4 px-lg-0
								text-center
								p-relative
								cursor-pointer
							"
							[attr.data-bs-toggle]="!instructions ? 'modal' : null"
							[attr.data-bs-target]="
								!instructions ? '#emotion-combinations' : null
							"
							id="emotion"
						>
							<p class="fw-bold fst-italic">EMOCIÓN SELECCIONADA</p>
							<div class="cards-instructions">
								<img
									src="/assets/img/card-emotion.png"
									class="img-fluid shadow img-filter"
									alt=""
								/>
								<div class="text-cards-tree-emotions">
									{{ emotion.name }}
								</div>
							</div>
						</div>
						<div class="col-auto d-none d-xl-block text-center sum">
							<p class="fs-1">+</p>
						</div>
						<div
							class="col-auto text-center px-0 ps-2 p-relative cursor-pointer"
							[attr.data-bs-toggle]="!instructions ? 'modal' : null"
							[attr.data-bs-target]="
								!instructions ? '#questions-combinations' : null
							"
						>
							<p class="fw-bold fst-italic">PREGUNTA</p>
							<div class="cards-instructions">
								<img
									src="/assets/img/card-question.png"
									class="img-fluid shadow margin-instructions"
									alt=""
								/>
								<div class="text-cards-tree-questions">
									{{ question.name }}
								</div>
							</div>
						</div>
						<div
							class="
								col-auto col-lg-auto
								px-0
								ps-2
								text-center
								p-relative
								cursor-pointer
							"
							[attr.data-bs-toggle]="!instructions ? 'modal' : null"
							[attr.data-bs-target]="
								!instructions ? '#distinction-combinations' : null
							"
						>
							<p class="fw-bold fst-italic">DISTINCION</p>
							<div class="cards-instructions">
								<img
									src="/assets/img/card-distinction.png"
									class="img-fluid shadow margin-instructions"
									alt=""
								/>
								<div class="text-cards-tree-distinctions">
									{{ distinction.name }}
								</div>
							</div>
						</div>
						<div
							class="
								col-auto col-lg-auto
								px-0
								ps-2
								text-center
								p-relative
								cursor-pointer
							"
							[attr.data-bs-toggle]="!instructions ? 'modal' : null"
							[attr.data-bs-target]="
								!instructions ? '#resource-combinations' : null
							"
						>
							<p class="fw-bold fst-italic">RECURSO</p>
							<div class="cards-instructions">
								<img
									src="/assets/img/card-resource.png"
									class="img-fluid shadow margin-instructions"
									alt=""
								/>
								<div class="text-cards-tree-resources">
									{{ resource.name }}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div
				class="content-buttons mt-3 pb-3 mt-lg-4 text-center px-0"
				id="no-instructions"
			>
				<div class="col-10 col-lg-auto btn-step-tree">
					<button
						class="btn btn-outline-secondary mx-3 px-2 px-lg-3"
						routerLink="/effective-combinations/emotions-bank"
						[disabled]="instructions"
					>
						CAMBIAR EMOCION
					</button>
				</div>
				<div class="col-10 col-lg-auto btn-step-tree">
					<button
						class="btn btn-primary mx-3 px-2 px-lg-5"
						(click)="continue()"
						[disabled]="instructions"
					>
						ELEGIR ESTA OPCIÓN
					</button>
				</div>
			</div>
		</div>
	</div>
</div>
<div
	class="modal fade"
	id="emotion-combinations"
	tabindex="-1"
	aria-labelledby="exampleModalLabel"
	aria-hidden="true"
	data-bs-backdrop="static"
	data-bs-keyboard="false"
>
	<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-body row justify-content-center">
				<button
					type="button"
					class="btn-close btn-close-custom"
					data-bs-dismiss="modal"
					aria-label="Close"
				>
					<span class="material-icons-outlined white" style="font-weight: bold">
						close
					</span>
				</button>
				<div
					class="
						row
						col-11 col-lg-9
						bg-emotions
						rounded-custom
						my-5
						py-5
						px-lg-5
					"
					[ngClass]="
						!emotion.comunication
							? 'align-content-center'
							: 'align-content-around'
					"
				>
					<div class="text-center">
						<span class="title border-bottom-custom">¿Qué la genera?</span>
						<p class="white mt-3">{{ emotion.generate }}.</p>
					</div>
					<div *ngIf="emotion.comunication" class="text-center">
						<span class="title border-bottom-custom">¿Qué me comunica?</span>
						<p class="white mt-3">{{ emotion.comunication }}.</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div
	class="modal fade"
	id="questions-combinations"
	tabindex="-1"
	aria-labelledby="exampleModalLabel"
	aria-hidden="true"
	data-bs-backdrop="static"
	data-bs-keyboard="false"
>
	<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-body row justify-content-center">
				<button
					type="button"
					class="btn-close btn-close-custom"
					data-bs-dismiss="modal"
					aria-label="Close"
				>
					<span class="material-icons-outlined white" style="font-weight: bold">
						close
					</span>
				</button>
				<div
					class="
						row
						align-content-center
						col-11 col-lg-9
						bg-questions
						rounded-custom
						my-5
						py-5
						px-lg-3
					"
				>
					<div class="text-center">
						<span class="title-question border-bottom-question">{{
							question.name
						}}</span>
						<p class="white mt-3">Sirve para</p>
						<p class="white mt-3">{{ question.description }}</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div
	class="modal fade"
	id="distinction-combinations"
	tabindex="-1"
	aria-labelledby="exampleModalLabel"
	aria-hidden="true"
	data-bs-backdrop="static"
	data-bs-keyboard="false"
>
	<div class="modal-dialog modal-lg modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-body row justify-content-center">
				<button
					type="button"
					class="btn-close btn-close-custom"
					data-bs-dismiss="modal"
					aria-label="Close"
				>
					<span class="material-icons-outlined white" style="font-weight: bold">
						close
					</span>
				</button>
				<div
					class="
						row
						align-content-center
						col-11 col-lg-9
						bg-distinctions
						rounded-custom
						my-5
						py-lg-5
						px-lg-3
						overflow
						h-modal-distinction
					"
				>
					<div class="text-center pt-5">
						<span class="title-question border-bottom-question">
							{{ distinction.name }}
						</span>
						<p class="white mt-3">{{ distinction.description }}</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div
	class="modal fade"
	id="resource-combinations"
	tabindex="-1"
	aria-labelledby="exampleModalLabel"
	aria-hidden="true"
	data-bs-backdrop="static"
	data-bs-keyboard="false"
>
	<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-body row justify-content-center">
				<button
					type="button"
					class="btn-close btn-close-custom"
					data-bs-dismiss="modal"
					aria-label="Close"
				>
					<span class="material-icons-outlined white" style="font-weight: bold">
						close
					</span>
				</button>
				<div
					class="
						row
						align-content-center
						col-11 col-lg-9
						bg-resources
						rounded-custom
						my-5
						py-5
						px-lg-3
					"
				>
					<div class="text-center">
						<span class="title-question border-bottom-question">
							{{ resource.name }}
						</span>
						<p class="white mt-3">{{ resource.description }}</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
